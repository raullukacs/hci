<html>

<head>
    <style>
        body{
            font-family: Arial, Helvetica, sans-serif;
        }

        .wrapper {
            width: 1024px;
            margin: 0 auto;
            position: relative;
        }

        .wrapper .align-center {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            text-align: center;
            z-index: 2;
        }

        .hidden{
            display: none;
        }

        .wrapper .align-center h1 {
            text-align: center;
            color: #fff;
            font-size: 72px;
            background: rgba(0, 0, 0, 0.2);
        }

        .wrapper .align-center img {
            margin: 25px 0;
            width: 100px;
            cursor: pointer;
        }

        .wrapper .align-center img.family-member {
            width: 180px;
            margin: 0 20px;
        }

        .wrapper .align-center img.family-member.selected{
            border: 1px solid red;
        }

        .bounce {
            animation: zoominoutsinglefeatured 1s infinite ;
        }   

        video{
            width: 100%;
        }  

        @keyframes zoominoutsinglefeatured {
            0% {
                transform: scale(1, 1);
            }
            50% {
                transform: scale(1.2, 1.2);
            }
            100% {
                transform: scale(1, 1);
            }
        }

        #house{
            width: auto;
            position: absolute;
            top: 100px;
            right: 185px;
            cursor: pointer;
            border: 3px dashed #fff;
        }

        #tree{
            position: absolute;
            left: -5px;
            top: 5px;
            cursor: pointer;
            border: 3px dashed #fff;
        }

        #cookie{
            position: absolute;
            bottom: 70px;
            right: 250px;
            cursor: pointer;
            border: 3px dashed #fff;
        }

        #house.bounce{
            border: none;
        }

        #tree.bounce{
            border: none;
        }

        #cookie.bounce{
            border: none;
        }

        .interaction{
            font-weight: 600;
        }

        .interaction p{
            display: none;
            text-align: center;
            color: #fff;
            text-transform: uppercase;
            font-size: 22px;
            position: absolute;
            width: 200px;
            left: 50%;
            text-align: center;
            transform: translateX(-50%);
        }

        .interaction.selected p{
            display: block;
        }

        #interaction-witch{
            position: absolute;
            top: 75px;
            right: 165px;
        }

        #exit{
            position: absolute;
            top: 30px;
            right: 30px;
            z-index: 99;
        }
        button{
            border: 1px solid #fff;
            background: #94dc0c;
            font-size: 22px;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: 700;
            text-align: center;
            cursor: pointer;
        }

        #intro button{
            width: 250px;
            font-size: 25px;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <div id="start">
            <img src="assets/bg.jpg" id="main-bg"/>
            <img src="assets/witch-bg.jpg" id="witch-bg" class="hidden" style="width:100%;"/>
            <div class="align-center" id="intro">
                <h1>Hansel and Gretel</h1>
                <button id="play-story">Play story</button><br/>
                <button id="game1">Family Game</button><br/>
                <button id="game2">"This" Game</button><br/>
            </div>
            <div class="align-center hidden" id="game1-wrapper">
                <img src="assets/hansel.jpg" class="family-member hansel" data-type="hansel"/>
                <img src="assets/gretel.jpg" class="family-member gretel" data-type="gretel"/>
                <img src="assets/father.jpg" class="family-member father" data-type="father" />
                <img src="assets/mother.jpg" class="family-member mother" data-type="mother" />
            </div>
            <div class="hidden" id="interaction-house">
                    <div id="house" class="interaction bounce">
                        <img src="assets/house.png" />
                        <p>This is a house</p>
                    </div>
                    <div id="tree" class="interaction bounce" >
                        <img src="assets/tree.png"/>
                        <p>This is a tree</p>
                    </div>
                    <div id="cookie" class="interaction bounce" >
                        <img src="assets/cookie.png" />
                        <p>This is a cookie</p>
                    </div>
                </div>
            <div class="align-center hidden" id="story">
                <video id="story-player" controls>
                    <source src="assets/story.mp4" type="video/mp4">
                </video>
            </div>
            <div class="align-center hidden" id="yay">
                <video id="yay-player" controls>
                    <source src="assets/yay.mp4" type="video/mp4">
                </video>
                <video id="house-player" controls>
                    <source src="assets/house.mp3" type="video/mp4">
                </video>
                <video id="cookie-player" controls>
                    <source src="assets/cookie.mp3" type="video/mp4">
                </video>
                <video id="tree-player" controls>
                        <source src="assets/tree.mp3" type="video/mp4">
                </video>
                <video id="hansel-player" controls>
                        <source src="assets/hansel.mp3" type="video/mp4">
                </video>
                <video id="gretel-player" controls>
                        <source src="assets/gretel.mp3" type="video/mp4">
                </video>
                <video id="father-player" controls>
                        <source src="assets/father.mp3" type="video/mp4">
                </video>
                <video id="mother-player" controls>
                        <source src="assets/stepmother.mp3" type="video/mp4">
                </video>
            </div>

            <div class="hidden" id="interaction-witch">
                <img src="assets/witch.png" id="witch" style="width:320px;"/>
            </div>
            <button id="exit" style="display: none;">Exit</button>
        </div>
    </div>
    <script src="assets/jquery.js"></script>
    <script>
        var storyPlayer = document.getElementById('story-player');
        var yayPlayer = document.getElementById('yay-player');

        var cookiePlayer = document.getElementById('cookie-player');
        var treePlayer = document.getElementById('tree-player');
        var housePlayer = document.getElementById('house-player');

        var hanselPlayer = document.getElementById('hansel-player');
        var gretelPlayer = document.getElementById('gretel-player');
        var fatherPlayer = document.getElementById('father-player');
        var motherPlayer = document.getElementById('mother-player');
        

        $(document).ready(function () {

            $('#play-story').click(function () {
                storyPlayer.currentTime = 10;
                storyPlayer.play();

                $('#story').show();
                $('#intro').hide();

                $('#exit').show();
            });

            $('#game1').click(function(){           
                $('#intro').hide();             
                $('#game1-wrapper').show();
                $('#exit').show();

                initFamilySelection();
            });

            $('#game2').click(function(){
                $('#intro').hide();             
                $('#interaction-house').show();
                $('#exit').show();

                initHouseInteraction();
            });

            $('#exit').click(function(){
                storyPlayer.pause();
                $('#story').hide();
                $('#game1-wrapper').hide();
                $('#interaction-house').hide();
                $(this).hide();

                // show menu
                $('#intro').show();
            });

            function initFamilySelection() {
                pause();

                $('.family-member').addClass('bounce');

                function _readFamilyMembers(e){
                    
                    if(e.type === 'click'){
                        $(this).removeClass('bounce').addClass('selected');
                    }
                    var clickedImageType = $(this).data('type');
                    var timeout = 0;
                    pause();
                    switch(clickedImageType)
                    {
                        case 'hansel':
                            hanselPlayer.currentTime = 0;
                            hanselPlayer.play();
                            break;
                        
                        case 'gretel':
                            gretelPlayer.currentTime = 0;
                            gretelPlayer.play();
                        break;
                            
                        case 'father':
                            fatherPlayer.currentTime = 0;
                            fatherPlayer.play();
                            break;
                            
                        case 'mother':
                            motherPlayer.currentTime = 0;
                            motherPlayer.play();
                            break;
                    }

                    if(e.type === 'click'){
                        var leftMembers = $('.family-member.bounce').length;
                        if(leftMembers === 0){
                            playYaySound();
                        }
                    }
                }
               
                $('.family-member.bounce').mouseover(_readFamilyMembers);
                $('.family-member.bounce').on('click', _readFamilyMembers);
            }

            function initHouseInteraction(){
                $('#house').addClass('bounce').on('click', function(){
                    $(this).addClass('selected').removeClass('bounce');

                    housePlayer.currentTime = 0;
                    housePlayer.play();

                    setTimeout(playYaySound, housePlayer.duration * 1000);
                });

                $('#tree').addClass('bounce').on('click', function(){
                    $(this).addClass('selected').removeClass('bounce');

                    treePlayer.currentTime = 0;
                    treePlayer.play();

                    setTimeout(playYaySound, treePlayer.duration * 1000);
                });

                $('#cookie').addClass('bounce').on('click', function(){
                    $(this).addClass('selected').removeClass('bounce');

                    cookiePlayer.currentTime = 0;
                    cookiePlayer.play();

                    setTimeout(playYaySound, cookiePlayer.duration * 1000);
                });
            }

            function pause() {
                storyPlayer.pause();
            }

            function pauseYay(){
                yayPlayer.pause();
            }

            function playYaySound(){
                pause();
                yayPlayer.pause();
                yayPlayer.currentTime = 0.4;
                yayPlayer.play();

                // yay sounds
                setTimeout(function(){
                    yayPlayer.pause();
                }, 2000);
            }

        });
    </script>
</body>

</html>